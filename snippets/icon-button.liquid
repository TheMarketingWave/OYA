{% comment %}
  Icon Button Snippet
  Usage: {% render 'icon-button', icon: 'menu.svg' %}
  Usage: {% render 'icon-button', icon: 'menu.svg', size: 'large' %}
  Usage: {% render 'icon-button', icon: 'menu.svg', label: 'Click me', url: '/page' %}
  Usage: {% render 'icon-button', icon: 'menu.svg', label: 'Click me', variant: 'secondary' %}

  Parameters:
  - icon: The asset filename (e.g., 'menu.svg', 'close.svg')
  - size: Optional size modifier ('large', 'xlarge') - defaults to normal
  - label: Optional text label
  - url: Optional URL to make it a link instead of button
  - variant: Optional variant ('primary', 'secondary') - defaults to 'primary'
{% endcomment %}

{% liquid
  assign button_variant = variant | default: 'primary'
  assign button_class = 'icon-button icon-button--' | append: button_variant
%}

{% if url %}
  <a
    href="{{ url }}"
    class="{{ button_class }}"
    aria-label="{{ icon | split: '.' | first | capitalize }} link"
  >
    {% if label %}
      <p>{{ label }}</p>
    {% endif %}
    <img src="{{ icon | asset_url }}" alt="{{ icon | split: '.' | first | capitalize }}" width="24" height="24">
  </a>
{% else %}
  <button
    class="{{ button_class }}"
    aria-label="{{ icon | split: '.' | first | capitalize }} button"
  >
    {% if label %}
      <p>{{ label }}</p>
    {% endif %}
    <img src="{{ icon | asset_url }}" alt="{{ icon | split: '.' | first | capitalize }}" width="24" height="24">
  </button>
{% endif %}
