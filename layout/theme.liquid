<!doctype html>
<html lang="" <link rel="stylesheet" href="{{ 'theme.css' | asset_url }}">
  <link rel="stylesheet" href="{{ 'mobile.css' | asset_url }}" media="(max-width: 768px)">
  <link rel="stylesheet" href="{{ 'cart-sidepanel.css' | asset_url }}"
  >n">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ 'favicon.ico' | asset_url }}">
    <link rel="shortcut icon" type="image/x-icon" href="{{ 'favicon.ico' | asset_url }}">

    {%- unless settings.favicon == blank -%}
      <link rel="apple-touch-icon" href="{{ settings.favicon | image_url: width: 180, height: 180 }}">
    {%- endunless -%}

    <title>
      {{ page_title }}
      {% if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif %}
      {% if current_page != 1 %} &ndash; Page {{ current_page }}{% endif %}
      {% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    <link rel="canonical" href="{{ canonical_url }}">

    <link rel="stylesheet" href="{{ 'theme.css' | asset_url }}">
    <link rel="stylesheet" href="{{ 'mobile.css' | asset_url }}" media="(max-width: 768px)">

    <!-- GSAP Libraries - Available Globally -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/InertiaPlugin.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/Draggable.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollSmoother.min.js" defer></script>

    <script>
      // Initialize GSAP plugins and ScrollSmoother when libraries are loaded
      document.addEventListener('DOMContentLoaded', function () {
        // Register GSAP plugins
        if (
          typeof gsap !== 'undefined' &&
          typeof ScrollTrigger !== 'undefined' &&
          typeof ScrollSmoother !== 'undefined'
        ) {
          console.log('GSAP and ScrollSmoother are loaded');
          gsap.registerPlugin(ScrollTrigger, ScrollSmoother);

          // Initialize ScrollSmoother with required wrapper and content elements
          ScrollSmoother.create({
            wrapper: '#smooth-wrapper',
            content: '#smooth-content',
            smooth: 1.5, // How smooth the scrolling should be (0-3)
            effects: true, // Enable data-speed and data-lag effects
            smoothTouch: 0.1, // Enable smooth scrolling on touch devices (0-1, or false)
            normalizeScroll: true, // Prevent address bar from showing/hiding on mobile
            ignoreMobileResize: true, // Prevent refresh on mobile resize
          });
        }
      });
    </script>

    <script src="{{ 'theme.js' | asset_url }}" async></script>
    <script src="{{ 'predictive-search.js' | asset_url }}" defer></script>

    {% render 'schemas' %}
    {% render 'social-meta-tags' %}
    {{ content_for_header }}
  </head>

  <body>
    {% sections 'header-group' %}
    {% render 'cart.sidepanel' %}

    <div id="smooth-wrapper">
      <div id="smooth-content">
        {% liquid
          unless template == 'index'
            render 'breadcrumb'
          endunless
        %}

        <main id="main-content">
          {{ content_for_layout }}
        </main>

        {% section 'footer' %}
      </div>
    </div>

    <script src="{{ 'scroll-animations.js' | asset_url }}" defer></script>
    <script src="{{ 'cart.js' | asset_url }}" defer></script>
    <script src="{{ 'cart-sidepanel.js' | asset_url }}" defer></script>
    <script src="{{ 'product-carousel.js' | asset_url }}" defer></script>
  </body>
</html>
