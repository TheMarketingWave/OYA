{% style %}
  .contact-form-section {
    padding: 60px 0;
    background-color: var(--color-brand-brown);
  }

  .contact-form__container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 48px;
  }

  .contact-form__header {
    text-align: center;
    margin-bottom: 60px;
  }

  .contact-form__title {
    font-size: 40px;
    font-weight: 600;
    color: var(--color-brand-cream);
    margin-bottom: 24px;
    line-height: 1.2;
  }

  .contact-form__description {
    font-size: 16px;
    line-height: 1.6;
    color: var(--color-brand-cream);
    max-width: 600px;
    margin: 0 auto;
  }

  .contact-form__form {
    max-width: 600px;
    margin: 0 auto;
  }

  .contact-form__success {
    background-color: var(--color-brand-green);
    color: white;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
    text-align: center;
  }

  .contact-form__errors {
    background-color: rgba(205, 127, 54, 0.1);
    border: 1px solid var(--color-brand-orange);
    color: var(--color-brand-orange);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .contact-form__errors ul {
    margin: 0;
    padding-left: 20px;
  }

  .contact-form__field {
    margin-bottom: 24px;
  }

  .contact-form__label {
    display: block;
    color: var(--color-brand-cream);
    font-size: 14px;
    font-weight: 500;
    margin-bottom: 8px;
  }

  .contact-form__input,
  .contact-form__textarea {
    width: 100%;
    background-color: rgba(224, 217, 186, 0.1);
    border: 1px solid rgba(224, 217, 186, 0.3);
    border-radius: 6px;
    padding: 12px 16px;
    color: var(--color-brand-cream);
    font-size: 14px;
    transition: border-color 0.3s ease, background-color 0.3s ease;
  }

  .contact-form__input::placeholder,
  .contact-form__textarea::placeholder {
    color: rgba(224, 217, 186, 0.6);
  }

  .contact-form__input:focus,
  .contact-form__textarea:focus {
    outline: none;
    border-color: var(--color-brand-green);
    background-color: rgba(224, 217, 186, 0.15);
  }

  .contact-form__textarea {
    resize: vertical;
    min-height: 120px;
  }

  .contact-form__checkbox-wrapper {
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }

  .contact-form__checkbox {
    margin-top: 3px;
    accent-color: var(--color-brand-green);
  }

  .contact-form__checkbox-label {
    color: var(--color-brand-cream);
    font-size: 14px;
    line-height: 1.5;
    cursor: pointer;
  }

  .contact-form__button {
    background: var(--color-brand-cream);
    color: var(--color-brand-brown);
    border: none;
    padding: 16px 32px;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
  }

  .contact-form__button:hover {
    background: var(--color-brand-green);
    color: white;
    transform: translateY(-1px);
  }

  .contact-form__paragraph {
    color: var(--color-brand-cream);
    font-size: 14px;
    line-height: 1.6;
    margin-bottom: 24px;
  }

  /* Mobile responsive */
  @media (max-width: 768px) {
    .contact-form__container {
      padding: 0 20px;
    }

    .contact-form__title {
      font-size: 28px;
      margin-bottom: 16px;
    }

    .contact-form__description {
      font-size: 14px;
    }

    .contact-form__header {
      margin-bottom: 40px;
    }

    .contact-form__button {
      padding: 14px 24px;
      font-size: 14px;
    }
  }
{% endstyle %}

<section class="contact-form-section">
  <div class="contact-form__container">
    <div class="contact-form__header">
      <{{ section.settings.size }} class="contact-form__title title-font">
        {{ section.settings.heading }}
      </{{ section.settings.size }}>

      {% if section.settings.text != blank %}
        <div class="contact-form__description">
          {{ section.settings.text }}
        </div>
      {% endif %}
    </div>

    <div class="contact-form__form">
      {% form 'customer', class: 'contact-form' %}
        {% if form.posted_successfully? %}
          <div class="contact-form__success">
            <p><strong>Thanks for your enquiry!</strong> We'll get back to you soon.</p>
          </div>
        {% else %}
          {% if form.errors %}
            <div class="contact-form__errors">
              {{ form.errors | default_errors }}
            </div>
          {% endif %}
        {% endif %}

        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'text' -%}
              <div class="contact-form__field">
                <label class="contact-form__label" for="{{ block.settings.name | handleize | prepend: 'contact_' }}">
                  {{ block.settings.title -}}
                  {%- if block.settings.required %} *{% endif %}
                </label>
                <input
                  type="text"
                  id="{{ block.settings.name | handleize | prepend: 'contact_' }}"
                  name="contact[{{- block.settings.name -}}]"
                  class="contact-form__input"
                  placeholder="{{ block.settings.placeholder }}"
                  {% unless block.settings.maxlength == blank %}
                    maxlength="{{ block.settings.maxlength }}"
                  {% endunless %}
                  {% if block.settings.required == true %}
                    required
                  {% endif %}
                >
              </div>

            {%- when 'textarea' -%}
              <div class="contact-form__field">
                <label class="contact-form__label" for="{{ block.settings.name | handleize | prepend: 'contact_' }}">
                  {{ block.settings.title -}}
                  {%- if block.settings.required %} *{% endif %}
                </label>
                <textarea
                  name="contact[{{- block.settings.name -}}]"
                  id="{{ block.settings.name | handleize | prepend: 'contact_' }}"
                  class="contact-form__textarea"
                  placeholder="{{ block.settings.placeholder }}"
                  {% unless block.settings.maxlength == blank %}
                    maxlength="{{ block.settings.maxlength }}"
                  {% endunless %}
                  rows="{{ block.settings.rows | default: 5 }}"
                  {% if block.settings.required == true %}
                    required
                  {% endif %}
                ></textarea>
              </div>

            {%- when 'email' -%}
              <div class="contact-form__field">
                <label class="contact-form__label" for="{{ block.settings.name | handleize | prepend: 'contact_' }}">
                  {{ block.settings.title }} *
                </label>
                <input
                  type="email"
                  id="{{ block.settings.name | handleize | prepend: 'contact_' }}"
                  name="contact[email]"
                  class="contact-form__input"
                  placeholder="{{ block.settings.placeholder }}"
                  {% unless block.settings.maxlength == blank %}
                    maxlength="{{ block.settings.maxlength }}"
                  {% endunless %}
                  required
                >
              </div>

            {%- when 'paragraph' -%}
              <div class="contact-form__paragraph">
                {{ block.settings.text }}
              </div>

            {%- when 'checkbox' -%}
              <div class="contact-form__field">
                <div class="contact-form__checkbox-wrapper">
                  <input
                    type="checkbox"
                    id="{{ block.settings.name | handleize | prepend: 'contact_' }}"
                    name="contact[{{- block.settings.name -}}]"
                    class="contact-form__checkbox"
                    {% if block.settings.required == true %}
                      required
                    {% endif %}
                  >
                  <label
                    class="contact-form__checkbox-label"
                    for="{{ block.settings.name | handleize | prepend: 'contact_' }}"
                  >
                    {{ block.settings.title -}}
                    {%- if block.settings.required %} *{% endif %}
                  </label>
                </div>
              </div>
          {%- endcase -%}
        {% endfor %}

        <div class="contact-form__field">
          <button type="submit" class="contact-form__button">
            {{ section.settings.button_label | default: 'Send Message' }}
          </button>
        </div>
      {% endform %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Contact Form",
  "tag": "section",
  "class": "contact-form-section",
  "disabled_on": {
    "groups": ["header"]
  },
  "presets": [
    {
      "name": "Contact Form",
      "blocks": [
        {
          "type": "email"
        },
        {
          "type": "textarea",
          "settings": {
            "name": "body"
          }
        }
      ]
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Text Field",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Label",
          "default": "Label",
          "info": "Display a label for the field."
        },
        {
          "type": "text",
          "id": "name",
          "label": "Input Name",
          "default": "Name",
          "info": "This is the name of the field."
        },
        {
          "type": "number",
          "id": "maxlength",
          "label": "Max Length",
          "default": 128,
          "info": "Leave blank to have no max length."
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder",
          "info": "Add additional instructions with a placeholder."
        }
      ]
    },
    {
      "type": "textarea",
      "name": "Textarea",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Label",
          "default": "Label",
          "info": "Display a label for the field."
        },
        {
          "type": "text",
          "id": "name",
          "label": "Input Name",
          "default": "body",
          "info": "This is the name of the field. Default is 'body'."
        },
        {
          "type": "number",
          "id": "maxlength",
          "label": "Max Length",
          "default": 128,
          "info": "Leave blank to have no max length."
        },
        {
          "type": "number",
          "id": "rows",
          "label": "Rows",
          "default": 5
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder",
          "info": "Add additional instructions with a placeholder."
        }
      ]
    },
    {
      "type": "email",
      "name": "Email Field",
      "limit": 1,
      "settings": [
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Label",
          "default": "Email",
          "info": "Display a label for the field."
        },
        {
          "type": "number",
          "id": "maxlength",
          "label": "Max Length",
          "default": 128,
          "info": "Leave blank to have no max length."
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder",
          "info": "Add additional instructions with a placeholder.",
          "default": "e.g. steve@example.com"
        }
      ]
    },
    {
      "type": "checkbox",
      "name": "Checkbox",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Label",
          "default": "Label",
          "info": "Display a label for the field."
        },
        {
          "type": "text",
          "id": "name",
          "label": "Input Name",
          "default": "Name",
          "info": "This is the name of the field."
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder",
          "info": "Add additional instructions with a placeholder."
        }
      ]
    },
    {
      "type": "paragraph",
      "name": "Paragraph",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Aut ratione sapiente repudiandae modi consequatur eos dolores consectetur dolorum.</p>"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Text",
      "default": "Contact us"
    },
    {
      "type": "select",
      "id": "size",
      "label": "Size",
      "options": [
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        }
      ],
      "default": "h2"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Complete the form below to send us a message.</p>"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Send Message"
    }
  ]
}
{% endschema %}
