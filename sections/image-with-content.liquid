{% style %}
  .image-with-content-wrapper {
    padding: 60px 0;
  }

  .image-with-content-wrapper--dark {
    background-color: var(--color-brand-brown2);
  }

  .image-with-content {
    display: flex;
    gap: 60px;
    padding: 0 20px;
    max-width: 1200px;
    margin: 0 auto;
    align-items: flex-start;
  }

  .image-with-content__left-column {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .image-with-content__right-column {
    flex: 2;
    display: flex;
    flex-direction: column;
  }

  .image-with-content__title {
    font-size: 40px;
    font-weight: bold;
    margin-bottom: 20px;
    color: var(--color-brand-cream);
  }

  .image-with-content__subtitle {
    font-size: 16px;
    line-height: 1.6;
    margin-bottom: 60px;
    color: var(--color-brand-cream);
  }

  .image-with-content__content-title {
    font-size: 24px;
    font-weight: 500;
    margin-bottom: 16px;
    color: var(--color-brand-cream);
  }

  .image-with-content__content-subtitle {
    font-size: 14px;
    line-height: 1.6;

    color: var(--color-brand-cream);
  }

  .image-with-content__image-large {
    width: 100%;
    height: 400px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 40px;
  }

  .image-with-content__image-small {
    width: 60%;
    height: 200px;
    object-fit: cover;
    border-radius: 8px;
    margin-top: auto;
  }

  .image-with-content__video-small {
    width: 60%;
    height: 200px;
    border-radius: 8px;
    margin-top: auto;
    overflow: hidden;
  }

  .image-with-content__video-small video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
  }

  @media (max-width: 768px) {
    .image-with-content {
      flex-direction: column;
      gap: 40px;
      padding: 60px 20px;
    }

    .image-with-content__title {
      font-size: 36px;
    }

    .image-with-content__image-small {
      width: 80%;
    }

    .image-with-content__video-small {
      width: 80%;
    }
  }

  @media (max-width: 480px) {
    .image-with-content {
      padding: 40px 15px;
    }

    .image-with-content__title {
      font-size: 28px;
    }

    .image-with-content__image-small {
      width: 100%;
    }

    .image-with-content__video-small {
      width: 100%;
    }
  }
{% endstyle %}

<div class="image-with-content-wrapper{% if section.settings.dark_background %} image-with-content-wrapper--dark{% endif %}">
  <section class="image-with-content">
    <div class="image-with-content__left-column">
      {% if section.settings.title != blank %}
        <h2 class="image-with-content__title title-font">{{ section.settings.title }}</h2>
      {% endif %}

      {% if section.settings.subtitle != blank %}
        <p class="image-with-content__subtitle">{{ section.settings.subtitle }}</p>
      {% endif %}

      {% comment %} Small media - can be image or video {% endcomment %}
      {% if section.settings.small_video != blank %}
        <div class="image-with-content__video-small">
          {{
            section.settings.small_video
            | video_tag: autoplay: true, loop: true, muted: true, controls: false, playsinline: true
          }}
        </div>
      {% elsif section.settings.image_small != blank %}
        <img
          src="{{ section.settings.image_small | image_url: width: 300 }}"
          alt="{{ section.settings.image_small.alt | escape }}"
          class="image-with-content__image-small"
          width="300"
          height="200"
          loading="lazy"
        >
      {% endif %}
    </div>

    <div class="image-with-content__right-column">
      {% if section.settings.image_large != blank %}
        <img
          src="{{ section.settings.image_large | image_url: width: 600 }}"
          alt="{{ section.settings.image_large.alt | escape }}"
          class="image-with-content__image-large"
          width="600"
          height="400"
          loading="lazy"
        >
      {% endif %}

      {% if section.settings.content_title != blank %}
        <h3 class="image-with-content__content-title">{{ section.settings.content_title }}</h3>
      {% endif %}

      {% if section.settings.content_subtitle != blank %}
        <p class="image-with-content__content-subtitle">{{ section.settings.content_subtitle }}</p>
      {% endif %}
    </div>
  </section>
</div>

{% schema %}
{
  "name": "Image with Content",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Main Title",
      "default": "Designed to be Refilled",
      "info": "The main heading for this section"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Our signature glass bottles are meant to be part of your long-term ritual. When empty, refill, because true luxury respects the earth it comes from.",
      "info": "Descriptive text below the main title"
    },
    {
      "type": "text",
      "id": "content_title",
      "label": "Content Title",
      "default": "Refill, Refresh, Renew",
      "info": "Secondary heading for the content section"
    },
    {
      "type": "textarea",
      "id": "content_subtitle",
      "label": "Content Subtitle",
      "default": "Our bottles are made to last—because wellness should be beautiful, not wasteful. When your OYA oil runs low, simply send your bottle back to us. We'll clean, refill, and return it to you—every bottle activity that the refill.",
      "info": "Descriptive text for the content section"
    },
    {
      "type": "header",
      "content": "Media Settings"
    },
    {
      "type": "image_picker",
      "id": "image_large",
      "label": "Large Image",
      "info": "Main image displayed prominently"
    },
    {
      "type": "paragraph",
      "content": "For the small media, choose either an image OR a video (video takes priority if both are selected)"
    },
    {
      "type": "video",
      "id": "small_video",
      "label": "Small Video",
      "info": "Video to display as the small accent media (MP4 format recommended)"
    },
    {
      "type": "text",
      "id": "small_video_alt",
      "label": "Video Alt Text",
      "info": "Accessibility description for the video",
      "default": "Background video"
    },
    {
      "type": "image_picker",
      "id": "image_small",
      "label": "Small Image (Fallback)",
      "info": "Image displayed if no video is selected"
    },
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "checkbox",
      "id": "dark_background",
      "label": "Use dark background",
      "default": false,
      "info": "Enable to use brand-brown2 background color"
    }
  ],
  "presets": [
    {
      "name": "Image with Content",
      "settings": {
        "title": "Designed to be Refilled",
        "subtitle": "Our signature glass bottles are meant to be part of your long-term ritual. When empty, refill, because true luxury respects the earth it comes from.",
        "content_title": "Refill, Refresh, Renew",
        "content_subtitle": "Our bottles are made to last—because wellness should be beautiful, not wasteful. When your OYA oil runs low, simply send your bottle back to us. We'll clean, refill, and return it to you—every bottle activity that the refill."
      }
    }
  ]
}
{% endschema %}
