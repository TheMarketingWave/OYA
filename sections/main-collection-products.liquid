{% style %}
  .collection-products {
    padding: 20px 0 60px;
  }

  .collection-products__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 32px;
    row-gap: 48px;
    margin-bottom: 48px;
  }

  .collection-products__grid .product-card {
    width: 100%;
    height: auto;
  }

  .collection-products__grid__icon {
    justify-content: center;
    display: none;
  }

  @media (max-width: 768px) {
    .collection-products__grid__icon {
      display: flex;
    }

    .collection-products {
      padding: 16px;
    }

    .collection-products__grid {
      margin-bottom: 0;
    }
  }
{% endstyle %}

<div id="{{ section.id }}" class="collection-products section-container">
  <div class="collection-products__grid">
    {% for product in collection.products %}
      {% render 'product-card-enhanced', product: product %}
      <div class="collection-products__grid__icon">{% render 'icon', icon: 'lotus' %}</div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Collection Products",
  "tag": "section",
  "class": "collection-products-section",
  "settings": [
    {
      "type": "header",
      "content": "Product Display"
    },
    {
      "type": "checkbox",
      "id": "show_tags",
      "label": "Show product tags",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show product descriptions",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_weight",
      "label": "Show product weight/volume",
      "default": true
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Add to cart button text",
      "default": "Add to Cart"
    }
  ]
}
{% endschema %}
